FROM ubuntu:24.04

ENV DEBIAN_FRONTEND noninteractive

RUN echo "APT::Get::Always-Include-Phased-Updates true;" >> /etc/apt/apt.conf

RUN apt-get update
RUN apt-get install -y apt-utils
RUN apt-get upgrade -y apt e2fsprogs

# compilers and tools
RUN apt-get install -y \
    ccache \
    clang \
    clang-14 \
    clang-15 \
    clang-16 \
    clang-17 \
    clang-format \
    g++ \
    g++-9 \
    g++-10 \
    g++-11 \
    g++-12 \
    g++-13 \
    git \
    python3 \
    valgrind

# for 3rd-parties
RUN apt-get install -y \
    autoconf \
    automake \
    cmake \
    intltool \
    libtool \
    m4 \
    make \
    meson \
    pkg-config

# for roc
RUN apt-get install -y \
    doxygen \
    gengetopt \
    graphviz \
    libasound2-dev \
    libavcodec60 \
    libbenchmark-dev \
    libcpputest-dev \
    libpulse-dev \
    libsndfile-dev \
    libsox-dev \
    libspeexdsp-dev \
    libssl-dev \
    libunwind-dev \
    libuv1-dev \
    pulseaudio \
    ragel \
    scons
